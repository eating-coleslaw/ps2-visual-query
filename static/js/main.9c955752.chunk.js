(this["webpackJsonpps2-visual-query"]=this["webpackJsonpps2-visual-query"]||[]).push([[0],{286:function(e,t,a){},288:function(e,t,a){},312:function(e,t){},314:function(e,t){},323:function(e,t){},325:function(e,t){},350:function(e,t){},352:function(e,t){},353:function(e,t){},358:function(e,t){},360:function(e,t){},366:function(e,t){},368:function(e,t){},387:function(e,t){},399:function(e,t){},402:function(e,t){},428:function(e,t){},522:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(19),c=a.n(r),o=(a(286),a(165)),l=a.n(o),s=a(257),d=a(105),u=a(64),j=a(11),m=a(18),b=a(557),h=a(269),p=a(572),g=a(571),f=a(573),O=a(574),x=a(567),v=a(564),y=a(565),_=a(562),C=a(580),w=a(575),N=(a(288),a(124)),S=a(125),I=a(100),T=a.n(I),L=a(578),F=a(67),k=a.n(F),E=a(84),D=a.n(E),q=a(1),B=Object(b.a)((function(e){return{button:{margin:e.spacing(1)}}}));var A=function(e){var t=e.serviceId,a=e.onServiceKeyChange,i=e.onDeleteStoredKey,r=B(),c=Object(n.useState)(t),o=Object(m.a)(c,2),l=o[0],s=o[1];return Object(q.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),a(l)},children:[Object(q.jsx)(L.a,{id:"service-key",label:"Service Key",margin:"dense",variant:"outlined",required:!0,name:"service-key",onChange:function(e){return s(e.target.value)},placeholder:"example",value:l,helperText:"Omit the leading 's:'"}),Object(q.jsx)(y.a,{type:"submit",variant:"contained",color:"primary",size:"large",className:r.button,startIcon:Object(q.jsx)(k.a,{}),children:"Save"}),Object(q.jsx)(y.a,{type:"button",variant:"outlined",color:"primary",size:"large",className:r.button,startIcon:Object(q.jsx)(D.a,{}),onClick:function(){s("example"),i()},children:"Delete"})]})},z=a(576),R={Languages:["De","En","Es","Fr","It"],Operators:[{display:"=",name:"equals",title:"Equals",value:"="},{display:"\u2260",name:"notEquals",title:"Not Equals",value:"=!"},{display:"<",name:"isLessThan",title:"Is Less Than",value:"=<"},{display:"\u2264",name:"isLessThanOrEquals",title:"Is Less Than Or Equals",value:"=["},{display:">",name:"isGreaterThan",title:"Is Greater Than",value:"=>"},{display:"\u2265",name:"isGreaterThanOrEquals",title:"Is Greater Than Or Equals",value:"=]"},{display:"Starts With",name:"startsWith",title:"Starts With",value:"=^"},{display:"Contains",name:"contains",title:"Contains",value:"=*"}],Collections:["character","character_name","characters_achievement","characters_currency","characters_directive","characters_directive_objective","characters_directive_tier","characters_directive_tree","characters_skill","characters_stat","characters_stat_by_faction","characters_stat_history","characters_weapon_stat","characters_weapon_stat_by_faction","world_stat_history","characters_item","ability","ability_type","achievement","armor_facing","armor_info","currency","directive","directive_tier","directive_tree","directive_tree_category","effect","effect_type","empire_scores","experience","experience_rank","facility_link","facility_type","faction","fire_group","fire_group_to_fire_mode","fire_mode","fire_mode_2","fire_mode_to_projectile","fire_mode_type","image","image_set","image_set_default","item","item_attachment","item_category","item_profile","item_to_weapon","item_type","loadout","map_hex","map_region","marketing_bundle","marketing_bundle_item","marketing_bundle_with_1_item","metagame_event","metagame_event_state","objective","objective_set_to_objective","objective_type","player_state","player_state_group","player_state_group_2","profile","profile_2","profile_armor_map","profile_resist_map","projectile","projectile_flight_type","region","resist_info","resist_type","resource_type","reward","reward_group_to_reward","reward_set_to_reward_group","reward_type","single_character_by_id","skill","skill_category","skill_line","skill_set","target_type","title","vehicle","vehicle_attachment","vehicle_faction","vehicle_skill_set","weapon","weapon_ammo_slot","weapon_datasheet","weapon_to_attachment","weapon_to_fire_group","zone","zone_effect","zone_effect_type","characters_world","world","outfit","outfit_member","outfit_member_extended","outfit_rank","characters_online_status","map","characters_friend","leaderboard","characters_leaderboard","characters_event_grouped","characters_event","event","world_event"]},W=Object(b.a)((function(e){return{selectControl:{minWidth:250}}}));function G(e){var t=e.collection,a=e.onChange,i=W(),r=Object(n.useState)([]),c=Object(m.a)(r,2),o=c[0],l=c[1];function s(e){o.includes(e)&&a(e)}return Object(n.useEffect)((function(){l(R.Collections)}),[]),Object(q.jsx)(z.a,{id:"collection-selector",options:o,value:t,autoSelect:!0,required:!0,onChange:function(e,t){return s(t)},renderInput:function(e){return Object(q.jsx)(L.a,Object(j.a)(Object(j.a)({},e),{},{label:"Collection",variant:"outlined",margin:"dense"}))},className:i.selectControl})}var J=a(582),K=Object(b.a)((function(e){return{root:{width:250}}})),P=[{value:10,label:10},{value:20,label:100},{value:30,label:"1k"},{value:40,label:"10k"}],Q=function(e){return e<=10?e:e<=20?10*(e-10):e<=30?100*(e-20):1e3*(e-30)};function V(e){var t,a=e.value,n=e.onChange,r=(e.label,K()),c=(t=a)<=10?t:t<=100?t/10+10:t<=1e3?t/100+20:t/1e3+30;return Object(q.jsxs)(i.a.Fragment,{children:[Object(q.jsx)(C.a,{id:"limit-input-slider-label",htmlFor:"limit-slider",children:"Limit"}),Object(q.jsx)(J.a,{className:r.root,id:"limit-slider",value:"number"===typeof c?c:0,min:1,step:1,max:40,defaultValue:10,getAriaValueText:Q,valueLabelFormat:Q,valueLabelDisplay:"auto",onChange:function(e,t){n(Q(t))},"aria-labelledby":"limit-input-slider-label",marks:P})]})}var U=Object(b.a)((function(e){return{selectControl:{minWidth:120,width:120}}}));function H(e){var t=e.language,a=e.onChange,i=U(),r=Object(n.useState)([]),c=Object(m.a)(r,2),o=c[0],l=c[1];Object(n.useEffect)((function(){l(R.Languages)}),[]);var s=o.map((function(e){return Object(q.jsx)("option",{value:e,"aria-label":e,children:e},e)}));return Object(q.jsxs)(_.a,{variant:"outlined",children:[Object(q.jsx)(C.a,{htmlFor:"language-select",children:"Language"}),Object(q.jsxs)(w.a,{native:!0,margin:"dense",label:"Language",className:i.selectControl,value:t,onChange:function(e){var t=e.target.value;a(t)},inputProps:{name:"language",id:"language-select"},children:[Object(q.jsx)("option",{"aria-label":"All",value:"All",children:"All"}),s]})]})}var M=a(581),Y=a(568),Z=a(566),X=a(264),$=a.n(X),ee=Object(b.a)((function(e){return{button:{margin:0,padding:0},chipList:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));function te(e){var t=e.label,a=e.fields,r=e.onAddField,c=e.onRemoveField,o=ee(),l=Object(n.useState)(""),s=Object(m.a)(l,2),d=s[0],u=s[1];function j(){return""!==d&&!a.includes(d.toLowerCase())}var b=a.map((function(e){return Object(q.jsx)("li",{children:Object(q.jsx)(M.a,{label:e,onDelete:function(){return function(e){c(e)}(e)},className:o.chip,size:"small"})},e)}));return Object(q.jsxs)(i.a.Fragment,{children:[Object(q.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,children:Object(q.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j()&&(u(""),r(d.toLowerCase()))},children:Object(q.jsx)(L.a,{id:"add-show-field-input",label:t,margin:"dense",variant:"outlined",name:"show-field",size:"small",onChange:function(e){return u(e.target.value)},placeholder:"example",value:d,InputProps:{endAdornment:Object(q.jsx)(Y.a,{position:"end",children:Object(q.jsx)(Z.a,{type:"submit",variant:"outlined",color:"primary",disabled:!j(),"aria-label":"Add to shown fields",className:o.button,children:Object(q.jsx)($.a,{})})})}})})}),Object(q.jsx)("ul",{className:o.chipList,children:b})]})}var ae=Object(b.a)((function(e){return{fieldGridItem:{marginTop:e.spacing(1),marginBottom:4,marginLeft:e.spacing(1)},operatorGrid:{marginTop:4},button:{margin:0,padding:0}}}));function ne(e){var t=e.conditionData,a=e.onDataChange,r=e.onDelete,c=ae(),o=Object(n.useState)(t.field),l=Object(m.a)(o,2),s=l[0],d=l[1],u=Object(n.useState)(t.value),j=Object(m.a)(u,2),b=j[0],h=j[1],p=Object(n.useState)([]),g=Object(m.a)(p,2),f=g[0],O=g[1];function v(e){return""!==e}return Object(n.useEffect)((function(){O(R.Operators)}),[]),Object(q.jsxs)(i.a.Fragment,{children:[Object(q.jsx)(x.a,{item:!0,xs:12,md:4,children:Object(q.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),a(t.id,"field",s)},children:Object(q.jsx)(L.a,{id:"condition-field",label:"Field",margin:"dense",variant:"outlined",name:"condition-field",size:"small",onChange:function(e){return d(e.target.value)},value:s,InputProps:{endAdornment:Object(q.jsx)(Y.a,{position:"end",children:Object(q.jsx)(Z.a,{type:"submit",variant:"outlined",color:"primary",disabled:!v(s)||s===t.field,"aria-label":"Update the condition's field",className:c.button,children:Object(q.jsx)(k.a,{fontSize:"small"})})})}})})}),Object(q.jsx)(x.a,{item:!0,xs:3,md:3,className:c.operatorGrid,children:Object(q.jsxs)(_.a,{variant:"outlined",children:[Object(q.jsx)(C.a,{htmlFor:"operator-select",children:"Operator"}),Object(q.jsxs)(w.a,{native:!0,margin:"dense",label:"Operator",value:t.operator.name,onChange:function(e){var n=e.target.value,i=f.find((function(e){return e.name===n}));a(t.id,"operator",i)},inputProps:{name:"operator",id:"operator-select"},children:[Object(q.jsx)("option",{value:"equals",title:"Equals",children:"="},"equals"),Object(q.jsx)("option",{value:"notEquals",title:"Not Equals",children:"\u2260"},"notEquals"),Object(q.jsx)("option",{value:"isLessThan",title:"Is Less Than",children:"<"},"isLessThan"),Object(q.jsx)("option",{value:"isLessThanOrEquals",title:"Is Less Than Or Equals",children:"\u2264"},"isLessThanOrEquals"),Object(q.jsx)("option",{value:"isGreaterThan",title:"Is Greater Than",children:">"},"isGreaterThan"),Object(q.jsx)("option",{value:"isGreaterThanOrEquals",title:"Is Greater Than Or Equals",children:"\u2265"},"isGreaterThanOrEquals"),Object(q.jsx)("option",{value:"startsWith",children:"Starts With"},"startsWith"),Object(q.jsx)("option",{value:"contains",children:"Contains"},"contains")]})]})}),Object(q.jsx)(x.a,{item:!0,xs:8,md:4,children:Object(q.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),a(t.id,"value",b)},children:Object(q.jsx)(L.a,{id:"condition-value",label:"Value",margin:"dense",variant:"outlined",name:"condition-value",size:"small",onChange:function(e){return h(e.target.value)},value:b,InputProps:{endAdornment:Object(q.jsx)(Y.a,{position:"end",children:Object(q.jsx)(Z.a,{type:"submit",variant:"outlined",color:"primary",disabled:!v(b)||b===t.value,"aria-label":"Update the condition's filter value",className:c.button,children:Object(q.jsx)(k.a,{fontSize:"small"})})})}})})}),Object(q.jsx)(x.a,{item:!0,xs:1,md:1,children:Object(q.jsx)(Z.a,{"aria-label":"Delete this query condition",title:"Delete this query condition",onClick:function(){r(t.id)},children:Object(q.jsx)(D.a,{fontSize:"small"})})})]})}var ie=a(569),re=a(104),ce=a.n(re),oe=Object(b.a)((function(e){return{headerButtonContainer:{textAlign:"right"},header1:{margin:0,fontSize:"1.4em",fontWeight:500},paper:{padding:e.spacing(2)},jsonView:{maxHeight:"600px",overflow:"auto",lineHeight:"1.1",marginTop:e.spacing(1)},textView:{maxHeight:"600px",overflow:"auto",lineHeight:"1.1",marginTop:e.spacing(1)},linearProgres:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function le(e){var t=e.data,a=e.isLoading,n=oe();return a?Object(q.jsxs)(v.a,{className:n.paper,children:[Object(q.jsx)("h1",{children:"Query Results"}),Object(q.jsx)(ie.a,{className:n.linearProgres})]}):Object(q.jsxs)(v.a,{className:n.paper,children:[Object(q.jsxs)(x.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(q.jsx)(x.a,{item:!0,xs:8,children:Object(q.jsx)("h1",{className:n.header1,children:"Query Results"})}),Object(q.jsx)(x.a,{item:!0,xs:4,className:n.headerButtonContainer,children:!!t&&Object(q.jsx)(y.a,{color:"primary",onClick:function(){t&&navigator.clipboard.writeText(JSON.stringify(t,null,2))},value:"Copy",title:"Copy the query results to the clipboard",startIcon:Object(q.jsx)(ce.a,{}),children:"Copy"})})]}),t?Object(q.jsx)("div",{className:n.textView,children:Object(q.jsx)("pre",{children:JSON.stringify(t,null,2)})}):null]})}var se=a(570),de=a(265),ue=a.n(de),je=a(266),me=a.n(je),be=Object(b.a)((function(e){return{header1:{margin:0,fontSize:"1.4em",fontWeight:500},paper:{padding:e.spacing(2)},urlBox:{marginTop:e.spacing(1),backgroundColor:"#1F2330",color:"#fff",fontFamily:"monospace",padding:e.spacing(1),borderRadius:4,wordWrap:"anywhere",overflow:"auto"},container:{marginTop:e.spacing(1)},gridItem:{marginRight:e.spacing(2)},button:{},runButton:{width:120},runButtonIcon:{marginLeft:-8},buttonWide:{whiteSpace:"nowrap"}}}));function he(e){var t=e.queryUrl,a=e.isLoading,n=e.onRunQuery,i=be();return Object(q.jsxs)(v.a,{className:i.paper,children:[Object(q.jsx)("h1",{className:i.header1,children:"Query URL"}),Object(q.jsx)("div",{className:i.urlBox,children:t}),Object(q.jsxs)(x.a,{container:!0,justifyContent:"flex-start",alignItems:"center",spacing:1,className:i.container,children:[Object(q.jsx)(x.a,{item:!0,className:i.gridItem,children:Object(q.jsx)(y.a,{color:"primary",variant:"contained",onClick:n,value:"Run",className:i.runButton,startIcon:a?null:Object(q.jsx)(ue.a,{className:i.runButtonIcon}),title:"Run the query",children:a?"Loading...":"Run"})}),Object(q.jsx)(x.a,{item:!0,className:i.gridItem,children:Object(q.jsx)(y.a,{color:"primary",variant:"outlined",onClick:function(){navigator.clipboard.writeText(t)},value:"Copy",className:i.button,title:"Copy the query url to the clipboard",startIcon:Object(q.jsx)(ce.a,{}),children:"Copy"})}),Object(q.jsx)(x.a,{item:!0,className:i.gridItem,children:Object(q.jsx)(y.a,{color:"primary",variant:"outlined",onClick:function(){var e=function(e){var a=new RegExp("(/s:)[A-z0-9]+/");return t.replace(a,"/s:example/")}();navigator.clipboard.writeText(e)},value:"Copy Anonymous",className:i.buttonWide,title:"Copy the query url to the clipboard and replace your service ID with 'example'",startIcon:Object(q.jsx)(ce.a,{}),children:"Copy Anon."})}),Object(q.jsx)(x.a,{item:!0,className:i.gridItem,children:Object(q.jsx)(se.a,{to:t,href:t,target:"_blank",rel:"noreferrer",children:Object(q.jsx)(y.a,{color:"primary",variant:"outlined",value:"Open Query",className:i.buttonWide,title:"Open the query URL in a new tab",startIcon:Object(q.jsx)(me.a,{}),children:"Open"})})})]})]})}var pe=a(267),ge=a.n(pe),fe=a(577);function Oe(e){var t=e.value,a=e.label,n=e.trueLabel,i=void 0===n?"Yes":n,r=e.falseLabel,c=void 0===r?"No":r,o=e.onChange,l=e.className,s=void 0===l?null:l;return Object(q.jsxs)(_.a,{variant:"outlined",style:{minWidth:120},children:[Object(q.jsx)(C.a,{htmlFor:"boolean-select",children:a}),Object(q.jsxs)(w.a,{native:!0,margin:"dense",label:a,className:s,value:t,onChange:function(e){return o(e.target.value)},inputProps:{name:"boolean-select",id:"boolean-select"},children:[Object(q.jsx)("option",{"aria-label":i,value:!0,children:i}),Object(q.jsx)("option",{"aria-label":c,value:!1,children:c})]})]})}var xe=Object(b.a)((function(e){return{paper:{padding:e.spacing(1),marginBottom:e.spacing(2)},gridRow:{marginTop:e.spacing(.5),marginBottom:e.spacing(1)},textButton:{marginTop:-4,marginBottom:e.spacing(1)},footer:{marginTop:e.spacing(0),marginBottom:e.spacing(0)}}}));function ve(e){var t=e.joinData,a=(e.depth,e.onChange),i=e.onDelete,r=(e.onAddNewJoin,xe()),c=Object(n.useState)(t),o=Object(m.a)(c,2),l=o[0],s=o[1];function d(){a(l)}function b(){i(t.id)}function h(e,t){s(Object(j.a)(Object(j.a)({},l),Object(u.a)({},e,t)))}return Object(q.jsxs)(v.a,{className:r.paper,children:[Object(q.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d()},children:[Object(q.jsxs)(x.a,{container:!0,spacing:1,alignItems:"center",className:r.gridRow,children:[Object(q.jsx)(x.a,{item:!0,xs:12,sm:8,children:Object(q.jsx)(G,{collection:l.collection,onChange:function(e){e&&h("collection",e)}})}),Object(q.jsx)(x.a,{item:!0,xs:12,sm:4,children:Object(q.jsx)(L.a,{id:"inject-at",label:"Inject At",margin:"dense",variant:"outlined",name:"inject-at",onChange:function(e){return h("injectAt",e.target.value)},value:l.injectAt})})]}),Object(q.jsxs)(x.a,{container:!0,spacing:1,alignItems:"center",className:r.gridRow,children:[Object(q.jsx)(x.a,{item:!0,xs:6,sm:3,children:Object(q.jsx)(Oe,{label:"Join Type",value:l.isOuterJoin,trueLabel:"Outer",falseLabel:"Inner",onChange:function(e){return h("isOuterJoin",e)}})}),Object(q.jsx)(x.a,{item:!0,xs:4,children:Object(q.jsx)(L.a,{id:"join-on-field",label:"On Field",margin:"dense",variant:"outlined",name:"join-on-field",onChange:function(e){h("onField",e.target.value)},value:l.onField})}),Object(q.jsx)(x.a,{item:!0,xs:1,style:{textAlign:"center"},children:Object(q.jsx)(ge.a,{style:{marginTop:8}})}),Object(q.jsx)(x.a,{item:!0,xs:4,children:Object(q.jsx)(L.a,{id:"join-to-field",label:"To Field",margin:"dense",variant:"outlined",name:"join-to-field",onChange:function(e){h("toField",e.target.value)},value:l.toField})})]}),Object(q.jsxs)(x.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",className:r.footer,children:[Object(q.jsx)(x.a,{item:!0,container:!0,xs:6,alignItems:"center",justifyContent:"flex-start",children:Object(q.jsx)(x.a,{item:!0,xs:3,children:Object(q.jsx)(Oe,{label:"Is List",value:l.isList,onChange:function(e){return h("isList",e)}})})}),Object(q.jsxs)(x.a,{item:!0,container:!0,xs:6,spacing:2,alignItems:"center",justifyContent:"flex-end",children:[Object(q.jsx)(x.a,{item:!0,children:Object(q.jsx)(y.a,{color:"default",startIcon:Object(q.jsx)(D.a,{fontSize:"small"}),size:"small",onClick:b,children:"Delete"})}),Object(q.jsx)(x.a,{item:!0,children:Object(q.jsx)(y.a,{type:"submit",color:"primary",variant:"outlined",startIcon:Object(q.jsx)(k.a,{fontSize:"small"}),size:"small",onClick:d,children:"Save"})})]})]})]}),t.joins.length>0&&Object(q.jsx)(x.a,{item:!0,container:!0,xs:12,justifyContent:"flex-start",alignItems:"center",spacing:1,className:r.gridRow,children:t.joins.map((function(e){return Object(q.jsx)(ve,{joinData:e,onDataChange:h,onDelete:b},e.id)}))})]})}var ye=Object(b.a)((function(e){return{gridRow:{marginTop:e.spacing(.5),marginBottom:e.spacing(1)},textButton:{marginTop:-4,marginBottom:e.spacing(1)}}}));function _e(e){var t=e.joinsData,a=e.onJoinDataChange,n=e.onAddNewJoin,r=e.onDeleteJoin,c=ye();function o(e){a(e)}function l(e){r(e)}return Object(q.jsxs)(i.a.Fragment,{children:[Object(q.jsx)(x.a,{item:!0,container:!0,xs:12,justifyContent:"flex-start",alignItems:"center",spacing:1,className:c.gridRow,children:t.map((function(e){return Object(q.jsx)(ve,{joinData:e,depth:0,onChange:o,onDelete:l},e.id)}))}),Object(q.jsx)(x.a,{item:!0,xs:12,children:Object(q.jsx)(y.a,{color:"primary",startIcon:Object(q.jsx)(T.a,{fontSize:"small"}),size:"small",onClick:function(){var e={id:Object(fe.a)(),parentId:null,collection:"",isList:!1,filterType:"show",filterFields:[],injectAt:"",terms:[],isOuterJoin:!1,joins:[],onField:"",toField:""};n(e)},className:c.textButton,children:"New Join"})})]})}var Ce=a(270),we=a(268),Ne=a.n(we),Se=["headerLevel","headerText","defaultExtended","children","id"],Ie=Object(b.a)((function(e){return{root:{marginBottom:e.spacing(2),marginTop:e.spacing(1)},header1:{margin:0,fontSize:"1.4em",fontWeight:500,width:"100%",marginBottom:-4},header2:{margin:0,fontSize:"1.2em",fontWeight:500,width:"100%"},header3:{margin:0,fontSize:"1.1em",fontWeight:500,width:"100%",marginBottom:2},headerContainer:{marginBottom:e.spacing(1)},headerContainerCollapsed:{paddingBottom:e.spacing(1),borderBottom:"1px solid #919cb950"},toggleContainer:{textAlign:"right",borderBottom:"1px solid #919cb950"},toggleButton:{padding:e.spacing(.5)},toggle:{transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},toggleCollapsed:{transform:"rotateZ(180deg)"},content:{height:0,width:"100%",display:"none",transition:"all 0ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},contentOpen:{width:"100%",transition:"all 100ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}}}));function Te(e){var t=e.headerLevel,a=e.headerText,r=e.defaultExtended,c=e.children,o=e.id,l=(Object(Ce.a)(e,Se),Ie());if("number"!==typeof t||t<0||t>6)throw new Error("headerLevel must be an integer between 1 and 6");var s=i.a.createElement("h".concat(t),{className:l["header".concat(t)]},a),d=Object(n.useState)(r),u=Object(m.a)(d,2),j=u[0],b=u[1];var h=Object(n.useState)(),p=Object(m.a)(h,2),g=p[0],f=p[1];return Object(n.useEffect)((function(){f(function(){if(!j)return 0;var e=document.getElementById("collapsible-content-".concat(o));return e?Array.from(e.children).reduce((function(e,t){return e+t.offsetHeight}),0):0}())}),[j,c,o]),Object(q.jsxs)("div",{className:l.root,children:[Object(q.jsxs)(x.a,{container:!0,justifyContent:"space-between",alignItems:"center",className:l.headerContainer,children:[Object(q.jsx)(x.a,{item:!0,xs:10,className:l.headerContainerCollapsed,children:s}),Object(q.jsx)(x.a,{item:!0,xs:2,className:l.toggleContainer,children:Object(q.jsx)(Z.a,{"aria-label":function(){return j?"Collapse Section":"Expand Section"},onClick:function(){b(!j)},className:l.toggleButton,children:Object(q.jsx)(Ne.a,{className:"".concat(j?l.toggle:"".concat(l.toggle," ").concat(l.toggleCollapsed))})})})]}),Object(q.jsx)("div",{id:"collapsible-content-".concat(o),style:{height:"".concat(g,"px")},className:j?l.contentOpen:l.content,children:c})]})}var Le=a(173).Query,Fe=a(173),ke=Object(b.a)((function(e){return{root:{flexGrow:1},container:{"margin-top":e.spacing(3)},gridContainer:{padding:e.spacing(2)},gridContainerItem:{"padding-bottom":e.spacing(2)},paper:{padding:e.spacing(2)},gridRow:{marginTop:e.spacing(.5),marginBottom:e.spacing(1)},header1:{margin:0,fontSize:"1.4em",fontWeight:500},header2:{margin:0,fontSize:"1.2em",fontWeight:500,width:"100%",marginTop:e.spacing(1.5)},itemParagraph:{marginTop:e.spacing(1),marginBottom:e.spacing(2)},splitQueryField:{width:250},filterSelect:{width:120},inlineSelectItem:{marginTop:4},textButton:{marginTop:-4,marginBottom:e.spacing(1)},buttonWrapper:{margin:e.spacing(1),position:"relative",display:"flex",justifyContent:"flex-start"},buttonProgress:{color:"black",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function Ee(){var e=ke();Object(n.useEffect)((function(){Fe.SetGlobalNamespace("ps2:v2")}),[]);var t=Object(n.useState)(localStorage.getItem("DaybreakGamesKey")),a=Object(m.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){var e=localStorage.getItem("DaybreakGamesKey");null!==e&&(Fe.SetGlobalServiceKey(e),c(e))}),[c]);var o=Object(n.useState)(!1),b=Object(m.a)(o,2),I=b[0],L=b[1],F=Object(n.useState)({serviceKey:r||"example",namespace:"ps2:v2",collection:"character",language:"All",conditions:[],limit:10,start:null,filterType:"show",filterFields:[],resolves:[],joins:[],trees:[],lang:null,sort:[]}),k=Object(m.a)(F,2),E=k[0],D=k[1],B=Object(g.a)("(prefers-color-scheme: dark)"),z=i.a.useMemo((function(){return Object(h.a)({palette:{type:B?"dark":"light",primary:B?{main:"#E7ADFB"}:N.a,secondary:S.a,background:{paper:"#27273A",default:"#0F1320"}},contrastThreshold:5})}),[B]);function R(e,t){var a=E[e];if(""!==t&&!a.includes(t)){var n=a;n.push(t),D(Object(j.a)(Object(j.a)({},E),Object(u.a)({},e,n)))}}function W(e,t){var a=E[e],n=a.indexOf(t);if(-1!==n){var i=a;i.splice(n,1),D(Object(j.a)(Object(j.a)({},E),Object(u.a)({},e,i)))}}function J(e,t,a){var n=E.conditions.map((function(n){return n.id===e&&(n[t]=a),n}));D(Object(j.a)(Object(j.a)({},E),{conditions:n}))}function K(e){var t=E.conditions.filter((function(t){return t.id!==e}));D(Object(j.a)(Object(j.a)({},E),{conditions:t}))}var P=Object(n.useState)(""),Q=Object(m.a)(P,2),U=Q[0],M=Q[1],Y=Object(n.useState)(new Le(E.collection,E.namespace,E.serviceKey)),Z=Object(m.a)(Y,2),X=(Z[0],Z[1]);Object(n.useEffect)((function(){try{var e=function(){var e=new Le(E.collection,E.namespace,E.serviceKey);return E.language&&"All"!==E.language&&e.setLanguage(E.language.toLowerCase()),null!==E.limit&&e.setLimit(E.limit),null!==E.start&&e.setStart(E.start),E.filterFields.length>0&&e["".concat(E.filterType,"Fields")](E.filterFields),E.resolves.length>0&&e.resolve(E.resolves),E.sort.length>0&&e.sort(E.sort),E.conditions.length>0&&E.conditions.forEach((function(t){""!==t.field&&t.operator&&""!==t.value&&e.where(t.field)[t.operator.name](t.value)})),E.joins.length>0&&E.joins.forEach((function(t){if(t.collection){var a=e.joinService(t.collection);a.isList(t.isList),a.isOuterJoin(t.isOuterJoin),t.injectAt&&a.injectAt(t.injectAt),t.onField&&a.onField(t.onField),t.toField&&a.toField(t.toField)}})),e}();X(e);var t=e.toUrl();t=t.replace("http://","https://"),M(t)}catch(a){console.log("Error getting query URL: ",a)}}),[E]);var $=Object(n.useState)(""),ee=Object(m.a)($,2),ae=ee[0],ie=ee[1];function re(){return(re=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U||I){e.next=18;break}return L(!0),e.prev=2,e.next=5,fetch(U);case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,ie(a),L(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Error getting data from query: ",e.t0),ie("Error getting data from query: ".concat(e.t0)),L(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}return Object(q.jsxs)(p.a,{theme:z,children:[Object(q.jsx)(f.a,{}),Object(q.jsx)(O.a,{maxWidth:"lg",className:e.container,children:Object(q.jsxs)(x.a,{container:!0,alignItems:"flex-start",children:[Object(q.jsxs)(x.a,{container:!0,item:!0,xs:12,sm:6,className:e.gridContainer,children:[Object(q.jsx)(x.a,{item:!0,xs:12,className:e.gridContainerItem,children:Object(q.jsx)(v.a,{className:e.paper,children:Object(q.jsxs)(Te,{id:"service-id",headerLevel:1,headerText:"Service ID",defaultExtended:!r||"example"===r,children:[Object(q.jsxs)("p",{className:e.itemParagraph,children:["Sign up for a service ID"," ",Object(q.jsx)("a",{href:"https://census.daybreakgames.com/#service-id","aria-label":"Service ID sign up page",target:"_blank",rel:"noreferrer",style:{color:"#40afee"},children:"here"}),". The 'example' service ID allows up to 10 requests per minute. Saving your service ID will store it to this browser."]}),Object(q.jsx)(A,{serviceId:E.serviceKey,onServiceKeyChange:function(e){D(Object(j.a)(Object(j.a)({},E),{serviceKey:e})),Fe.SetGlobalServiceKey(e),localStorage.setItem("DaybreakGamesKey",e)},onDeleteStoredKey:function(){D(Object(j.a)(Object(j.a)({},E),{serviceKey:"example"})),Fe.SetGlobalServiceKey("example"),localStorage.removeItem("DaybreakGamesKey")}})]})})}),Object(q.jsx)(x.a,{item:!0,xs:12,className:e.gridContainerItem,children:Object(q.jsxs)(v.a,{className:e.paper,children:[Object(q.jsx)("h1",{className:e.header1,children:"Query Creator"}),Object(q.jsxs)("p",{className:e.itemParagraph,children:["Refer to the"," ",Object(q.jsx)("a",{href:"https://census.daybreakgames.com/#general","aria-label":"Official census API documentation page",target:"_blank",rel:"noreferrer",style:{color:"#40afee"},children:"official documentation"})," ","for more information on using the API."]}),Object(q.jsx)(Te,{id:"collection",headerLevel:2,headerText:"Collection",defaultExtended:!0,children:Object(q.jsxs)(x.a,{container:!0,spacing:1,alignItems:"center",className:e.gridRow,children:[Object(q.jsx)(x.a,{item:!0,sm:12,md:7,className:e.splitQueryField,children:Object(q.jsx)(G,{collection:E.collection,onChange:function(e){D(Object(j.a)(Object(j.a)({},E),{collection:e}))}})}),Object(q.jsx)(x.a,{item:!0,sm:12,md:4,className:e.splitQueryField,style:{marginTop:4},children:Object(q.jsx)(H,{value:E.language,onChange:function(e){D(Object(j.a)(Object(j.a)({},E),{language:e.toLowerCase()}))}})}),Object(q.jsx)(x.a,{item:!0,sm:12,style:{marginLeft:4,marginTop:8},children:Object(q.jsx)(V,{value:E.limit,onChange:function(e){D(Object(j.a)(Object(j.a)({},E),{limit:e}))},label:"Limit"})})]})}),Object(q.jsxs)(Te,{id:"search-conditions",headerLevel:2,headerText:"Search Conditions",defaultExtended:!0,children:[E.conditions.length>0&&Object(q.jsx)(x.a,{item:!0,container:!0,xs:12,justifyContent:"flex-start",alignItems:"center",spacing:1,className:e.gridRow,children:E.conditions.map((function(e){return Object(q.jsx)(ne,{conditionData:e,onDataChange:J,onDelete:K},e.id)}))}),Object(q.jsx)(x.a,{item:!0,xs:12,children:Object(q.jsx)(y.a,{color:"primary",startIcon:Object(q.jsx)(T.a,{fontSize:"small"}),size:"small",onClick:function(){var e={id:Object(fe.a)(),field:"",value:"",operator:{display:"=",name:"equals",title:"Equals",value:"="}};D(Object(j.a)(Object(j.a)({},E),{conditions:[].concat(Object(d.a)(E.conditions),[e])}))},className:e.textButton,children:"New Condition"})})]}),Object(q.jsx)(Te,{id:"field-filters",headerLevel:2,headerText:"Filter Displayed Fields",defaultExtended:!0,children:Object(q.jsxs)(x.a,{item:!0,container:!0,xs:12,justifyContent:"flex-start",alignItems:"center",spacing:0,className:e.gridRow,children:[Object(q.jsx)(x.a,{item:!0,xs:12,sm:6,md:3,className:e.inlineSelectItem,children:Object(q.jsxs)(_.a,{variant:"outlined",children:[Object(q.jsx)(C.a,{htmlFor:"filter-type-select",children:"Filter Type"}),Object(q.jsxs)(w.a,{native:!0,margin:"dense",label:"Filter Type",className:e.filterSelect,value:E.filterType,onChange:function(e){var t=e.target.checked?"show":"hide";D(Object(j.a)(Object(j.a)({},E),{filterType:t}))},inputProps:{name:"filter-type",id:"filter-type-select"},children:[Object(q.jsx)("option",{"aria-label":"Show",value:"show",children:"Show"}),Object(q.jsx)("option",{"aira-label":"Hide",value:"hide",children:"Hide"})]})]})}),Object(q.jsx)(te,{label:"Add Field",fields:E.filterFields,onAddField:function(e){return R("filterFields",e)},onRemoveField:function(e){return W("filterFields",e)}})]})}),Object(q.jsx)(Te,{id:"resolves-container",headerLevel:2,headerText:"Resolves",defaultExtended:!0,children:Object(q.jsx)(x.a,{item:!0,container:!0,xs:12,justifyContent:"flex-start",alignItems:"center",spacing:0,className:e.gridRow,children:Object(q.jsx)(te,{label:"Resolves",fields:E.resolves,onAddField:function(e){return R("resolves",e)},onRemoveField:function(e){return W("resolves",e)}})})}),Object(q.jsx)(Te,{id:"joins-container",headerLevel:2,headerText:"Joins",defaultExtended:!0,children:Object(q.jsx)(_e,{joinsData:E.joins,depth:0,onJoinDataChange:function(e){var t=E.joins.map((function(t){return t.id===e.id?e:t}));D(Object(j.a)(Object(j.a)({},E),{joins:t}))},onAddNewJoin:function(e){e.parentId||D(Object(j.a)(Object(j.a)({},E),{joins:[].concat(Object(d.a)(E.joins),[e])}))},onDeleteJoin:function(e){var t=E.joins.filter((function(t){return t.id!==e}));D(Object(j.a)(Object(j.a)({},E),{joins:t}))}})})]})})]}),Object(q.jsxs)(x.a,{container:!0,item:!0,xs:12,sm:6,className:e.gridContainer,children:[Object(q.jsx)(x.a,{item:!0,xs:12,className:e.gridContainerItem,children:Object(q.jsx)(he,{queryUrl:U,isLoading:I,onRunQuery:function(){return re.apply(this,arguments)}})}),Object(q.jsx)(x.a,{item:!0,xs:12,className:e.gridContainerItem,children:Object(q.jsx)(le,{data:ae,isLoading:I})})]})]})})]})}var De=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,583)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};c.a.render(Object(q.jsx)(i.a.StrictMode,{children:Object(q.jsx)(Ee,{})}),document.getElementById("root")),De()}},[[522,1,2]]]);
//# sourceMappingURL=main.9c955752.chunk.js.map